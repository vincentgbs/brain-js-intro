<html>
    <head>
        <!-- brain.js cdn -->
        <!-- <script src="https://cdn.rawgit.com/BrainJS/brain.js/45ce6ffc/browser.js"></script> -->
        <script src="https://unpkg.com/brain.js@1.6.0/browser.js"></script>
        <!-- script source -->
        <!-- <script src="js/intro.js"></script> -->
        <!-- <script src="js/objects.js"></script> -->
        <!-- <script src="js/eatfree.js"></script> -->
        <!-- <script src="js/count.js"></script> -->
        <script src="js/stocks.js"></script>
    </head>
    <body>
        <!-- https://scrimba.com/g/gneuralnetworks -->
        <div id="console"></div>
        <button id="train">Train</button>
        <button id="run">Run test</button>

        <script>
            console.log(rawData[0]);
            // scale down to the low of the first day (138)
            function scaleDown(step) {
                return {
                    open: (step.open - step.low) / (step.high - step.low),
                    high: (step.high - step.low) / (step.high - step.low),
                    low: (step.low - step.low) / (step.high - step.low),
                    close: (step.close - step.low) / (step.high - step.low),
                    divisor: step.high - step.low, // to "de-normalize"
                    lowest: step.low // to "de-normalize"
                };
            }
            // console.log(scaleDown(rawData[0]));

            // reverse of normalize stepDown
            function scaleUp(step) {
                return {
                    open: step.open * step.divisor + step.lowest,
                    high: step.high * step.divisor + step.lowest,
                    low: step.low * step.divisor + step.lowest,
                    close: step.close * step.divisor + step.lowest,
                };
            }
            // console.log(scaleUp(scaleDown(rawData[0])));

            document.getElementById("train").addEventListener("click", function() {
                // globalVar.train();
            });

            document.getElementById("run").addEventListener("click", function() {
                // globalVar.run();
            });
        </script>
    </body>
</html>
